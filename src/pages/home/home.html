<ion-header>
  <ion-navbar>
    <ion-title>
      BLE Intergration Test
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <!--
  <button ion-button (click)="startScanning()">Start Scan </button>
-->
<ion-refresher (ionRefresh)="startScanning($event)">
      <ion-refresher-content 
          pullingIcon="arrow-dropdown"
          pullingText="Pull to refresh"
          refreshingSpinner="circles"
          refreshingText="Refreshing...">
      </ion-refresher-content>
   </ion-refresher>
   <ion-card *ngFor="let device of devices">
    <ion-card-header>
      {{device.name}}
    </ion-card-header>

    <ion-card-content>
      <ion-row>
        <ion-col>
          {{device.id}}
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <button ion-button icon-left clear small>
            <ion-icon name="ion-connection-bars"></ion-icon>
            <div>{{device.rssi}}</div>
          </button>
        </ion-col>
        <ion-col>
          <button ion-button icon-left clear small (click)="selectDevice(device.id)">
            <ion-icon name="ion-link"></ion-icon>
            <div>connect</div>
          </button>
          <button ion-button icon-left clear small (click)="selectDeviceTransfer(device)">
            <ion-icon name="ion-link"></ion-icon>
            <div>transfer</div>
          </button>
        </ion-col>
      </ion-row>
    </ion-card-content>

  </ion-card>


</ion-content>
